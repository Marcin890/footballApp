(this["webpackJsonpfootball-app"]=this["webpackJsonpfootball-app"]||[]).push([[0],{139:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(28),c=a.n(o),r=(a(75),a(8)),i=a(9),l=a(11),m=a(10),u=a(12),p=a(23),h=function(){return s.a.createElement(p.b,{to:"/"},s.a.createElement("h1",{className:"header__title"},"Score App"))},d=a(145),f=[{id:"2021",name:"England",path:"/england",flag:"/england.jpg"},{id:"2003",name:"Netherlands",path:"/netherlands",flag:"/netherlands.png"},{id:"2014",name:"Spain",path:"/spain",flag:"/spain.png"},{id:"2002",name:"Germany",path:"/germany",flag:"/germany.png"},{id:"2015",name:"France",path:"/france",flag:"/france.png"},{id:"2017",name:"Portugal",path:"/portugal",flag:"/portugal.png"}],g=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={isExpanded:!1},a.competitionsList=f.map((function(e){return s.a.createElement("li",{className:"nav__list-item",key:e.id},s.a.createElement("div",{className:"nav__flag-wrapper"},s.a.createElement("img",{className:"nav__flag",src:e.flag,alt:""})),s.a.createElement(p.c,{exact:!0,activeClassName:"selected",id:e.id,to:{pathname:e.id,idComp:e.id},name:e.id,onClick:function(){return a.menuClose()}},e.name))})),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"menuToggle",value:function(e){this.setState({isExpanded:!this.state.isExpanded})}},{key:"menuClose",value:function(e){this.setState({isExpanded:!1})}},{key:"render",value:function(){var e=this,t=this.state.isExpanded;return s.a.createElement("nav",{className:"nav ".concat(t?"nav__mobile":"")},s.a.createElement("button",{className:"nav__toggle",onClick:function(){return e.menuToggle()}},t?s.a.createElement("img",{className:"nav__toggle-image",src:"menu-icon-closed.svg",alt:""}):s.a.createElement("img",{className:"nav__toggle-image",src:"menu-icon.svg",alt:""})),s.a.createElement(d.a,{appear:!0,timeout:600,classNames:"fade",in:t},s.a.createElement("ul",{className:"nav__list--collapsed ".concat(t?"nav__list--is-expanded":"")},s.a.createElement("li",{className:"nav__list-item"},s.a.createElement(p.c,{id:"home",to:"/",name:"home",onClick:function(){return e.menuClose()}},"Home")),this.competitionsList)))}}]),t}(n.Component),E=a(24),v=a(68),b=function(e){return{up:{class:"sort--up",fn:function(t,a){return t[e]-a[e]}},down:{class:"sort--down",fn:function(t,a){return a[e]-t[e]}},default:{class:"sort--default",fn:function(e,t){return e}}}},_=[{text:"P",title:"Position",sort:"position"},{text:"Team Name",title:"Team Name",sort:""},{text:"G",title:"Played Games",sort:"playedGames"},{text:"W",title:"Won",sort:"won"},{text:"D",title:"Draw",sort:"draw"},{text:"L",title:"Lost",sort:"lost"},{text:"P",title:"Points",sort:"points"},{text:"F",title:"Goals For",sort:"goalsFor"},{text:"A",title:"Goals Against",sort:"goalsAgainst"},{text:"GD",title:"Goal Difference",sort:"goalDifference"}],y=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={currentSort:"default",sortPosition:""},a.sortChange=function(e){var t,n=a.state.currentSort;"down"===n?t="up":"up"===n?t="default":"default"===n&&(t="down"),a.setState({currentSort:t,sortPosition:e})},a.checkPosition=function(e){var t;return a.props.positions.map((function(a){return a.position.map((function(n){return n===e?t=a.class:null}))})),t},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data;console.log(t);var a=this.state,n=a.currentSort,o=a.sortPosition,c=Object(v.a)(t).sort(b(o)[n].fn).map((function(t){return s.a.createElement("tr",{key:t.position},s.a.createElement("td",null,s.a.createElement("span",{className:"table__position table__position--".concat(e.checkPosition(t.position))},s.a.createElement("span",{className:"table__position-number"},t.position))),s.a.createElement("td",null,t.team.name," "),s.a.createElement("td",null,t.playedGames),s.a.createElement("td",null,t.won),s.a.createElement("td",null,t.draw),s.a.createElement("td",null,t.lost),s.a.createElement("td",null,t.points),s.a.createElement("td",null,t.goalsFor),s.a.createElement("td",null,t.goalsAgainst),s.a.createElement("td",null,t.goalDifference))}));return s.a.createElement("div",null,s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",{key:"table_header"},_.map((function(e){return s.a.createElement("td",{key:e.title,title:e.title},e.text)})))),s.a.createElement("tbody",null,s.a.createElement("tr",{key:"table_sort",className:"table__sort"},_.map((function(t){return s.a.createElement("td",{key:t.sort},t.sort?s.a.createElement("button",{className:"sort",title:"Sort",onClick:function(){return e.sortChange(t.sort)}},s.a.createElement("span",{className:"".concat(b()[n].class)})):"")}))),c)))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={},a.handleClick=function(){a.props.click(a.props.name),a.props.changeActiveTab(a.props.name)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.active,a=e.name;return s.a.createElement("button",{className:t?"tab--active":"tab",onClick:this.handleClick},a)}}]),t}(n.Component),w=["total","home","away"],N=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={activeTab:"total"},a.changeActiveTab=function(e){a.setState({activeTab:e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=w.map((function(t){return s.a.createElement(k,{key:t,active:t===e.state.activeTab,click:e.props.click,name:t,changeActiveTab:e.changeActiveTab})}));return s.a.createElement("div",{className:"competition__tabs"},t)}}]),t}(n.Component),T=a(146),O="https://api.football-data.org/v2/competitions/",j="25c6ef44df8547c99cd22e9b0d9f9841",D={2021:[{position:[1,2,3,4],class:"champions"},{position:[5],class:"europa"},{position:[18,19,20],class:"relegation"}],2003:[{position:[1],class:"champions"},{position:[2],class:"champions-qualifications"},{position:[3],class:"europa"},{position:[4,5,6,7],class:"europa-qualifications"},{position:[16],class:"playoffs"},{position:[17,18],class:"relegation"}],2014:[{position:[1,2,3,4],class:"champions"},{position:[5],class:"europa"},{position:[6],class:"europa-qualifications"},{position:[18,19,20],class:"relegation"}],2002:[{position:[1,2,3,4],class:"champions"},{position:[5],class:"europa"},{position:[6],class:"europa-qualifications"},{position:[18,19,20],class:"relegation"}],2015:[{position:[1,2,3,4],class:"champions"},{position:[18,19,20],class:"europa"},{position:[16],class:"playoffs"},{position:[17,18],class:"relegation"}],2017:[{position:[1],class:"champions"},{position:[2],class:"champions-qualifications"},{position:[3,4],class:"europa"},{position:[17,18],class:"relegation"}]},S=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={data:[],isLoaded:!1,standingType:"total",id:""},a.getData=function(){var e=a.props.match.params.id;fetch(O+e+"/standings",{headers:{"X-Auth-Token":j}}).then((function(e){if(e.ok)return e;throw Error(e.status)})).then((function(e){return e.json()})).then((function(t){a.setState({data:t,isLoaded:!0,id:e})})).catch((function(e){return console.log(e+"Something wrong")}))},a.changeTableType=function(e){a.setState({standingType:e})},a.getStandingType=function(){var e,t=a.state,n=t.data,s=t.standingType;if(t.isLoaded){switch(s){case"total":e=n.standings[0].table;break;case"home":e=n.standings[1].table;break;case"away":e=n.standings[2].table;break;default:e=n.standings[0].table}return e}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.id!==this.state.id&&this.getData()}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.isLoaded,n=this.getStandingType();return s.a.createElement("div",{className:"competition"},s.a.createElement(N,{click:this.changeTableType}),a?s.a.createElement(T.a,null,s.a.createElement(d.a,{appear:!0,timeout:600,classNames:"fade",key:t.competition.id},s.a.createElement(y,{name:t.competition.name,data:n,positions:D[t.competition.id]}))):"Loading")}}]),t}(n.Component),C=(a(80),function(e){var t=e.matches,a=e.addToFavorite,n=e.getMatchStatusClass,o=e.symbol,c=t.map((function(e){return s.a.createElement("tr",{key:e.id},s.a.createElement("td",null,s.a.createElement("div",{className:"match__status-wrapper"},s.a.createElement("div",{title:e.status.toLowerCase(),className:n(e.status)}))),s.a.createElement("td",{className:"match__start-time",title:"start time"},e.utcDate.slice(-9,-4)),s.a.createElement("td",null,e.homeTeam.name," ",s.a.createElement("br",null)," ",e.awayTeam.name),s.a.createElement("td",null,e.score.fullTime.homeTeam," ",s.a.createElement("br",null),e.score.fullTime.awayTeam),s.a.createElement("td",null,s.a.createElement("img",{title:e.competition.area.name,className:"match__image",src:e.competition.area.ensignUrl,alt:""})),s.a.createElement("td",null,s.a.createElement("div",{className:"match__favorite-wrapper"},s.a.createElement("button",{title:"Add to favorite",className:"match__addFavorite",onClick:function(){return a(e.id)}},o))))}));return s.a.createElement(s.a.Fragment,null,c)}),A=function(e){var t=e.matches.matches,a=e.addToFavorite,n=t.filter((function(e){return e.favorite})),o=t.filter((function(e){return!e.favorite})),c=function(e){var t;switch(e){case"IN_PLAY":t="match__status match__status--active";break;case"SCHEDULED":t="match__status match__status--scheduled";break;case"PAUSED":t="match__status match__status--paused";break;case"FINISHED":t="match__status match__status--finished";break;case"POSTPONED":t="match__status match__status--postponed";break;default:t="match__status match__status--scheduled"}return t},r=s.a.createElement(C,{matches:n,addToFavorite:a,getMatchStatusClass:c,symbol:"-"}),i=s.a.createElement(C,{matches:o,addToFavorite:a,getMatchStatusClass:c,symbol:"+"}),l=s.a.createElement("h2",null,"Favorite matches");return s.a.createElement(s.a.Fragment,null,n.length>0?l:"",s.a.createElement("table",{className:"matches"},s.a.createElement("tbody",null,r)),s.a.createElement("h2",null,"All matches"),s.a.createElement(T.a,null,s.a.createElement(d.a,{appear:!0,timeout:600,classNames:"fade",key:e.matches.filters.dateFrom},s.a.createElement("table",{className:"matches"},s.a.createElement("tbody",null,i)))))},F=a(65),x=a.n(F),L=(a(81),"https://api.football-data.org/v2/matches"),P=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={matches:{},isLoaded:!1,startDate:new Date,viewport:""},a.desktopViewport=window.matchMedia("screen and (min-width:640px)"),a.changeVieport=function(){a.setState({viewport:a.desktopViewport.matches})},a.getData=function(){var e=a.state.startDate.toISOString().slice(0,10),t=L+(e?"?dateFrom=".concat(e,"&dateTo=").concat(e):"");fetch(t,{headers:{"X-Auth-Token":"25c6ef44df8547c99cd22e9b0d9f9841"}}).then((function(e){if(e.ok)return e;throw Error(e.status)})).then((function(e){return e.json()})).then((function(e){a.setState({matches:e,isLoaded:!0})})).catch((function(e){return console.log(e+"Something wrong")}))},a.getToday=function(){var e=new Date,t=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().split("T")[0];return t.split("").reverse(),t},a.addToFavorite=function(e){var t=Array.from(a.state.matches.matches);t.forEach((function(t){t.id===e&&(t.favorite=!t.favorite)}));var n=a.state.matches;n.matches=t,a.setState({matches:n})},a.changeDate=function(e){a.setState({startDate:e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e,t){t.startDate!==this.state.startDate&&this.getData()}},{key:"render",value:function(){this.desktopViewport.addListener(this.changeVieport);var e=this.state.matches;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,s.a.createElement(x.a,{className:"myDatePicker",selected:this.state.startDate,onChange:this.changeDate,monthsShown:this.desktopViewport.matches?2:1})),this.state.isLoaded?0!==e.matches.length?s.a.createElement(A,{matches:e,addToFavorite:this.addToFavorite}):s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"There are no matches on this day. May choose another day"),s.a.createElement("img",{className:"match__no-match",src:"no_matches.svg",alt:""})):"Loading")}}]),t}(n.Component),G=function(){return s.a.createElement(E.c,null,s.a.createElement(E.a,{path:"/:id",component:S}),s.a.createElement(E.a,{path:"/",exact:!0,component:P}),"} />")},M=function(){var e=(new Date).getFullYear();return s.a.createElement("p",null,"Copyright \xa9 ",e," Marcin Ko\u015bka")},I=(a(139),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(p.a,null,s.a.createElement("div",{className:"app"},s.a.createElement("header",{className:"header"},s.a.createElement(h,null)),s.a.createElement("main",null,s.a.createElement("aside",null,s.a.createElement(g,null)),s.a.createElement("section",{className:"page"},s.a.createElement(G,null))),s.a.createElement("footer",{className:"footer"},s.a.createElement(M,null))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){e.exports=a(140)},75:function(e,t,a){},80:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.7f272a9e.chunk.js.map