(this["webpackJsonpfootball-app"]=this["webpackJsonpfootball-app"]||[]).push([[0],{135:function(t,e,a){},136:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),o=a(32),c=a.n(o),r=(a(71),a(7)),i=a(8),l=a(10),m=a(9),u=a(11),p=a(21),h=function(){return s.a.createElement(p.b,{to:"/"},s.a.createElement("h1",{className:"header__title"},"Score App"))},d=[{id:"2021",name:"England",path:"/england",flag:"/england.jpg"},{id:"2003",name:"Netherlands",path:"/netherlands",flag:"/netherlands.png"},{id:"2014",name:"Spain",path:"/spain",flag:"/spain.png"},{id:"2002",name:"Germany",path:"/germany",flag:"/germany.png"},{id:"2015",name:"France",path:"/france",flag:"/france.png"},{id:"2017",name:"Portugal",path:"/portugal",flag:"/portugal.png"}],f=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(o)))).state={isExpanded:!1},a.competitionsList=d.map((function(t){return s.a.createElement("li",{className:"nav__list-item",key:t.id},s.a.createElement("div",{className:"nav__flag-wrapper"},s.a.createElement("img",{className:"nav__flag",src:t.flag,alt:""})),s.a.createElement(p.c,{activeClassName:"activevvvv",id:t.id,to:{pathname:t.id,idComp:t.id},name:t.id,onClick:function(){return a.menuClose()}},t.name))})),a}return Object(u.a)(e,t),Object(i.a)(e,[{key:"menuToggle",value:function(t){this.setState({isExpanded:!this.state.isExpanded})}},{key:"menuClose",value:function(t){this.setState({isExpanded:!1})}},{key:"render",value:function(){var t=this,e=this.state.isExpanded;return s.a.createElement("nav",{className:"nav ".concat(e?"nav__mobile":"")},s.a.createElement("button",{className:"nav__toggle",onClick:function(){return t.menuToggle()}},e?s.a.createElement("img",{className:"nav__toggle-image",src:"menu-icon-closed.svg",alt:""}):s.a.createElement("img",{className:"nav__toggle-image",src:"menu-icon.svg",alt:""})),s.a.createElement("ul",{className:"nav__list--collapsed ".concat(e?"nav__list--is-expanded":"")},s.a.createElement("li",{className:"nav__list-item"},s.a.createElement(p.c,{id:"home",to:"/",name:"home",onClick:function(){return t.menuClose()}},"Home")),this.competitionsList))}}]),e}(n.Component),g=a(22),v=a(65),E=function(t){return{up:{class:"sort--up",fn:function(e,a){return e[t]-a[t]}},down:{class:"sort--down",fn:function(e,a){return a[t]-e[t]}},default:{class:"sort--default",fn:function(t,e){return t}}}},b=[{text:"P",title:"Position",sort:"position"},{text:"Team Name",title:"Team Name",sort:""},{text:"G",title:"Played Games",sort:"playedGames"},{text:"W",title:"Won",sort:"won"},{text:"D",title:"Draw",sort:"draw"},{text:"L",title:"Lost",sort:"lost"},{text:"P",title:"Points",sort:"points"},{text:"F",title:"Goals For",sort:"goalsFor"},{text:"A",title:"Goals Against",sort:"goalsAgainst"},{text:"GD",title:"Goal Difference",sort:"goalDifference"}],_=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(s)))).state={currentSort:"default",sortPosition:""},a.sortChange=function(t){var e,n=a.state.currentSort;"down"===n?e="up":"up"===n?e="default":"default"===n&&(e="down"),a.setState({currentSort:e,sortPosition:t})},a.checkPosition=function(t){var e;return a.props.positions.map((function(a){return a.position.map((function(n){return n===t?e=a.class:null}))})),e},a}return Object(u.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this,e=this.props.data;console.log(e);var a=this.state,n=a.currentSort,o=a.sortPosition,c=Object(v.a)(e).sort(E(o)[n].fn).map((function(e){return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("span",{className:"table__position table__position--".concat(t.checkPosition(e.position))},s.a.createElement("span",{className:"table__position-number"},e.position))),s.a.createElement("td",null,e.team.name," "),s.a.createElement("td",null,e.playedGames),s.a.createElement("td",null,e.won),s.a.createElement("td",null,e.draw),s.a.createElement("td",null,e.lost),s.a.createElement("td",null,e.points),s.a.createElement("td",null,e.goalsFor),s.a.createElement("td",null,e.goalsAgainst),s.a.createElement("td",null,e.goalDifference))}));return s.a.createElement("div",null,s.a.createElement("h2",{className:"table__title"},this.props.name),s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,b.map((function(t){return s.a.createElement("td",{title:t.title},t.text)})))),s.a.createElement("tbody",null,s.a.createElement("tr",{className:"table__sort"},b.map((function(e){return s.a.createElement("td",null,s.a.createElement("button",{className:"sort",title:"Sort",onClick:function(){return t.sortChange(e.sort)}},s.a.createElement("span",{className:"".concat(E()[n].class)})))}))),c)))}}]),e}(n.Component),y=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(s)))).state={},a.handleClick=function(){a.props.click(a.props.name),a.props.changeActiveTab(a.props.name)},a}return Object(u.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this.props,e=t.active,a=t.name;return s.a.createElement("button",{className:e?"tab--active":"tab",onClick:this.handleClick},a)}}]),e}(n.Component),k=["total","home","away"],w=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(s)))).state={activeTab:"total"},a.changeActiveTab=function(t){a.setState({activeTab:t})},a}return Object(u.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this,e=k.map((function(e){return s.a.createElement(y,{key:e,active:e===t.state.activeTab,click:t.props.click,name:e,changeActiveTab:t.changeActiveTab})}));return s.a.createElement("div",{className:"competition__tabs"},e)}}]),e}(n.Component),T="http://api.football-data.org/v2/competitions/",O="25c6ef44df8547c99cd22e9b0d9f9841",j={2021:[{position:[1,2,3,4],class:"champions"},{position:[5],class:"europa"},{position:[18,19,20],class:"relegation"}],2003:[{position:[1],class:"champions"},{position:[2],class:"champions-qualifications"},{position:[3],class:"europa"},{position:[4,5,6,7],class:"europa-qualifications"},{position:[16],class:"playoffs"},{position:[17,18],class:"relegation"}],2014:[{position:[1,2,3,4],class:"champions"},{position:[5],class:"europa"},{position:[6],class:"europa-qualifications"},{position:[18,19,20],class:"relegation"}],2002:[{position:[1,2,3,4],class:"champions"},{position:[5],class:"europa"},{position:[6],class:"europa-qualifications"},{position:[18,19,20],class:"relegation"}],2015:[{position:[1,2,3,4],class:"champions"},{position:[18,19,20],class:"europa"},{position:[16],class:"playoffs"},{position:[17,18],class:"relegation"}],2017:[{position:[1],class:"champions"},{position:[2],class:"champions-qualifications"},{position:[3,4],class:"europa"},{position:[17,18],class:"relegation"}]},N=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(s)))).state={data:[],isLoaded:!1,standingType:"total",id:""},a.getData=function(){var t=a.props.match.params.id;fetch(T+t+"/standings",{headers:{"X-Auth-Token":O}}).then((function(t){if(t.ok)return t;throw Error(t.status)})).then((function(t){return t.json()})).then((function(e){a.setState({data:e,isLoaded:!0,id:t})})).catch((function(t){return console.log(t+"Something wrong")}))},a.changeTableType=function(t){a.setState({standingType:t})},a.getStandingType=function(){var t,e=a.state,n=e.data,s=e.standingType;if(e.isLoaded){switch(s){case"total":t=n.standings[0].table;break;case"home":t=n.standings[1].table;break;case"away":t=n.standings[2].table;break;default:t=n.standings[0].table}return t}},a}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(t,e){console.log("sskdffdh"),this.props.match.params.id!==this.state.id&&this.getData()}},{key:"render",value:function(){var t=this.state,e=t.data,a=t.isLoaded,n=this.getStandingType();return s.a.createElement("div",{className:"competition"},s.a.createElement(w,{click:this.changeTableType}),a?s.a.createElement(_,{name:e.competition.name,data:n,positions:j[e.competition.id]}):"Loading")}}]),e}(n.Component),D=(a(76),function(t){var e=t.matches,a=t.addToFavorite,n=t.getMatchStatusClass,o=t.symbol,c=e.map((function(t){return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("div",{className:"match__status-wrapper"},s.a.createElement("div",{title:t.status.toLowerCase(),className:n(t.status)}))),s.a.createElement("td",{className:"match__start-time",title:"start time"},t.utcDate.slice(-9,-4)),s.a.createElement("td",null,t.homeTeam.name," ",s.a.createElement("br",null)," ",t.awayTeam.name),s.a.createElement("td",null,t.score.fullTime.homeTeam," ",s.a.createElement("br",null),t.score.fullTime.awayTeam),s.a.createElement("td",null,s.a.createElement("img",{title:t.competition.area.name,class:"match__image",src:t.competition.area.ensignUrl,alt:""})),s.a.createElement("td",null,s.a.createElement("div",{className:"match__favorite-wrapper"},s.a.createElement("button",{title:"Add to favorite",className:"match__addFavorite",onClick:function(){return a(t.id)}},o))))}));return s.a.createElement(s.a.Fragment,null,c)}),S=function(t){var e=t.matches.matches,a=t.addToFavorite,n=e.filter((function(t){return t.favorite})),o=e.filter((function(t){return!t.favorite})),c=function(t){var e;switch(t){case"IN_PLAY":e="match__status match__status--active";break;case"SCHEDULED":e="match__status match__status--scheduled";break;case"PAUSED":e="match__status match__status--paused";break;case"FINISHED":e="match__status match__status--finished";break;case"POSTPONED":e="match__status match__status--postponed";break;default:e="match__status match__status--scheduled"}return e},r=s.a.createElement(D,{matches:n,addToFavorite:a,getMatchStatusClass:c,symbol:"-"}),i=s.a.createElement(D,{matches:o,addToFavorite:a,getMatchStatusClass:c,symbol:"+"}),l=s.a.createElement("h2",null,"Favorite matches");return s.a.createElement(s.a.Fragment,null,n.length>0?l:"",s.a.createElement("table",{class:"matches"},r),s.a.createElement("h2",null,"All matches"),s.a.createElement("table",{class:"matches"},i))},C=a(62),A=a.n(C),F=(a(77),"http://api.football-data.org/v2/matches"),x=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(s)))).state={matches:{},isLoaded:!1,startDate:new Date,viewport:""},a.desktopViewport=window.matchMedia("screen and (min-width:640px)"),a.changeVieport=function(){console.log("kkk"),a.setState({viewport:a.desktopViewport.matches})},a.getData=function(){var t=a.state.startDate.toISOString().slice(0,10),e=F+(t?"?dateFrom=".concat(t,"&dateTo=").concat(t):"");fetch(e,{headers:{"X-Auth-Token":"25c6ef44df8547c99cd22e9b0d9f9841"}}).then((function(t){if(t.ok)return t;throw Error(t.status)})).then((function(t){return t.json()})).then((function(t){console.log(t),a.setState({matches:t,isLoaded:!0})})).catch((function(t){return console.log(t+"Something wrong")}))},a.getToday=function(){var t=new Date,e=new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().split("T")[0];return e.split("").reverse(),e},a.addToFavorite=function(t){var e=Array.from(a.state.matches.matches);e.forEach((function(e){e.id===t&&(e.favorite=!e.favorite)}));var n=a.state.matches;n.matches=e,a.setState({matches:n})},a.changeDate=function(t){a.setState({startDate:t})},a}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(t,e){e.startDate!==this.state.startDate&&this.getData()}},{key:"render",value:function(){this.desktopViewport.addListener(this.changeVieport);var t=this.state.matches;console.log(this.state.matches.matches);return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,s.a.createElement(A.a,{className:"myDatePicker",selected:this.state.startDate,onChange:this.changeDate,monthsShown:this.desktopViewport.matches?2:1,customInput:s.a.createElement((function(t){var e=t.value,a=t.onClick;return s.a.createElement("button",{className:"data-picker__button",onClick:a},e)}),null)})),this.state.isLoaded?0!==t.matches.length?s.a.createElement(S,{matches:t,addToFavorite:this.addToFavorite}):s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"There are no matches on this day. May choose another day"),s.a.createElement("img",{className:"match__no-match",src:"no_matches.svg",alt:""})):"Loading")}}]),e}(n.Component),L=function(){return s.a.createElement(g.c,null,s.a.createElement(g.a,{path:"/:id",component:N}),s.a.createElement(g.a,{path:"/",exact:!0,component:x}),"} />")},P=function(){var t=(new Date).getFullYear();return s.a.createElement("p",null,"Copyright \xa9 ",t," Marcin Ko\u015bka")},G=(a(135),function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(s)))).state={},a}return Object(u.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return s.a.createElement(p.a,null,s.a.createElement("div",{className:"app"},s.a.createElement("header",{className:"header"},s.a.createElement(h,null)),s.a.createElement("main",null,s.a.createElement("aside",null,s.a.createElement(f,null)),s.a.createElement("section",{className:"page"},s.a.createElement(L,null))),s.a.createElement("footer",{className:"footer"},s.a.createElement(P,null))))}}]),e}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},66:function(t,e,a){t.exports=a(136)},71:function(t,e,a){},76:function(t,e,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.ee8489d8.chunk.js.map